<!DOCTYPE html>
<html>
<head>
<style>
.fontX{
    text-align: left;
    color: white ;
    font-size : 82px;
    font-family: Arial
}
    
.fontWhite
{
    color: white ;
    font-family: Arial;
    font-size : 50px;
    margin-top : 0px;
    margin-bottom : 0px;
}
    
.sizeButton
{
    font-family: Arial;
    font-size : 50px;
    height : 127px;
    width : 405px;
    color : #dddddd;
    border : 0;
    background-color : #000000;
    border-radius: 20px;
    display : inline;
    text-align : center;
    box-shadow : none;
    border : none;
}
.emphasizeRed
{
    font-family: Arial;
    font-size : 70px;
    color : red;
}

.emphasizeYellow
{
    font-family : Arial;
    font-size : 70px;
    color : yellow;
    
}
    
.fieLD
{
    font-family: Arial;
    font-size : 30px;
    height : 155px;
    width : 412px;
    color : #cccccc;
    border : 0;
    background-color : #000000;
    border-radius: 20px;
    display : inline;
    margin-right : 0px;
    margin-left  : 13px;
    margin-bottom : 10px;
    text-align : left;
    border-bottom : 2px solid #cccccc;
    border-top : 2px solid #cccccc;
    border-left : 2px solid #cccccc;
    border-right : 2px solid #cccccc;
}
    
    *:focus {
        outline: none;
    }
</style>
</head>
<body bgcolor='#000000'>

<p class="fontX">Avg. speed calculator</p>

<!--<button class = "sizeButton" onclick="distanceFunction()">Distance covered</button>  -->
<fieldset class = "fieLD"><legend>Dist. covered</legend>
<input class="sizeButton" type="number" id="distText" value = "2.2"/>
</fieldset>
<!-- <button class = "sizeButton" onclick="SetDistFunction()">Total distance</button>  -->
<fieldset class = "fieLD"><legend>Total dist.</legend>
<input type="number" class="sizeButton" id="TotDist" value="11.7"/>
</fieldset>

<br><br><br><br><br>
<p class = "fontWhite">Avg. speed required : <span class = "emphasizeRed", id="demo"> 0.00</span> kmph</p> \

<br><br>
<p id=m12 class = "fontWhite">Maintain 12 kmph for <span class = "emphasizeYellow" id="mText"></span> mins</p>
<p id=m13 class = "fontWhite">to make it come down to 5 kmph<span id="mText"></span></p>

<script>
    
    
let distance = 11.7;


function SetDistFunction()
{
    distance = prompt("Enter the total distance");
}
    
let current_distance = 0.0

let latitude = 13.112278;
let longitude = 77.595146
let time = new Date();


distance = (document.getElementById("TotDist").value);
current_distance = (document.getElementById("distText").value);

const url = `https://api.sunrisesunset.io/json?lat=${latitude}&lng=${longitude}`
let fetchedObj=fetch(url)
  .then(response => response.json())
  .then(data => {
    console.log(data)
    time.setHours(parseInt(data.results.sunset[0])+12, parseInt(data.results.sunset[2])*10+parseInt(data.results.sunset[3]), 0, 0);
    
  })
  .catch(error => console.error('Error:', error))


    
let timeDiff = new Date();

setInterval(calculateFunction, 1000);
 
function distanceFunction() {
  current_distance = prompt("Please enter the distance covered");
  
  let currentTime = new Date();
  let avg_speed_req = 0.0;
  
  timeDiff = (time - currentTime)/(1000 * 3600);
  avg_speed_req = (distance - current_distance) / ( timeDiff);
  avg_speed_req = avg_speed_req.toFixed(2);
    
    document.getElementById("demo").innerHTML = avg_speed_req;
  
              
}
    
function calculateFunction() {
    
  current_distance = (document.getElementById("distText").value);
  distance = (document.getElementById("TotDist").value);
  
  let currentTime = new Date();
  let avg_speed_req = 0.0;
  
  timeDiff = (time - currentTime)/(1000 * 3600);
  avg_speed_req = (distance - current_distance) / ( timeDiff);
  
  let twelveSpeed = ((distance - current_distance) - 5 * (timeDiff)) * 8.571918;
    document.getElementById("mText").innerHTML = twelveSpeed.toFixed(2);
    document.getElementById("demo").innerHTML = avg_speed_req.toFixed(2);
    document.getElementById("ttt").innerHTML = distance;
  }

    
</script>

</body>
</html>
 
